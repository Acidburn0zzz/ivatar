{% extends 'base.html' %}
{% load i18n %}
{% load bootstrap4 %}
{% load static %}

{% block title %}{% trans 'Check e-mail or openid' %}{% endblock title %}

{% block content %}

<h1>{% trans 'Check e-mail or openid' %}</h1>

<div style="width:600px;">
<form method="post" name="check">{% csrf_token %}
  {% bootstrap_form form %}
  {% buttons %}
      <button type="submit" class="btn btn-primary">{% trans 'Check' %}</button>
      <button type="cancel" class="btn btn-danger">{% trans 'Cancel' %}</button>
  {% endbuttons %}
</form>
</div>

{% if mailurl or openidurl %}
    <p>
      This is what the avatars will look like depending on the hash and protocol you use:<br/>

      {% if mail_hash %}
        MD5 hash (mail): {{ mail_hash }}<br/>
        SHA256 hash (mail): {{ mail_hash256 }}<br/>
      {% endif %}

      {% if openid_hash %}
        SHA256 hash (OpenID): {{ openid_hash }}<br/>
      {% endif %}
    </p>

    <ul class="horizontal-list avatar-list centered">
      {% if mailurl %}
        <li>
          <img src="{{ mailurl }}" style="max-width: {{ size }}px; max-height: {{ size }}px;">
          <br/>
          MD5
        </li>
        <li>
          <img src="{{ mailurl_secure }}" style="max-width: {{ size }}px; max-height: {{ size }}px;">
          <br/>
          MD5 <img src="{% static 'img/https_lock.png' %}">
        </li>
      {% endif %}

      {% if openidurl %}
        <li>
          <img src="{{ openidurl }}" style="max-width: {{ size }}px; max-height: {{ size }}px;">
          <br/>
          SHA256
        </li>
        <li>
          <img src="{{ openidurl_secure }}" style="max-width: {{ size }}px; max-height: {{ size }}px;">
          <br/>
          SHA256 <img src="{% static 'img/https_lock.png' %}">
        </li>
      {% endif %}
    </ul>
{% endif %}

{# Bad hack in order to have the images for sure inside our "outer" div box #}
<!-- Bad hack -->
{% if mailurl %}
<div style="height: {{ size }}px;">&nbsp;</div>
{% endif %}
{% if openidurl %}
<div style="height: {{ size }}px;">&nbsp;</div>
{% endif %}
<!-- End of bad hack -->

{% endblock content %}
